<template>
  <div class="lobby-container">
    <h1 class="lobby-title">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤</h1>
    
    <div class="modes-wrapper">
      <div 
        v-for="mode in gameModes" 
        :key="mode.count" 
        class="mode-card"
        @click="startGame(mode.count)"
      >
        <div class="player-previews">
          <div 
            v-for="(player, index) in mode.previewPlayers" 
            :key="index"
            class="avatar-circle"
            :style="{ borderColor: player.color }"
          >
            <span class="avatar-icon"><img class="avatar-icon-img" :src="player.icon" alt="avatar"></span>
          </div>
        </div>
        
       <div class="mode-info">
  <h2 class="mode-name">–ò–≥—Ä–æ–∫–æ–≤: {{ mode.count }}</h2>
  <!-- <p class="mode-desc">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–æ–Ω–æ–ø–æ–ª–∏—è</p> -->
  <p class="mode-desc">üíÄ –†–µ–∂–∏–º –≤—ã–∂–∏–≤–∞–Ω–∏—è –Ω–∞ {{ mode.survivalAfter }} —Ö–æ–¥—É</p>
</div>
        
        <button class="select-button">–í–´–ë–†–ê–¢–¨</button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router';

const router = useRouter();

// –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –≤—ã–±–æ—Ä–∞
const gameModes = [
  { 
    count: 2, 
    survivalAfter: 100,
    previewPlayers: [
      { icon: '/img/hero/animal-1.svg', color: '#ff4d4d' },
      { icon: '/img/hero/animal-4.svg', color: '#ffa500' }
    ]
  },
  { 
    count: 3, 
    survivalAfter: 150,
    previewPlayers: [
      { icon: '/img/hero/animal-1.svg', color: '#ff4d4d' },
      { icon: '/img/hero/animal-4.svg', color: '#ffa500' },
      { icon: '/img/hero/animal-3.svg', color: '#68d391' }
    ]
  },
  { 
    count: 4, 
    survivalAfter: 180,
    previewPlayers: [
      { icon: '/img/hero/animal-1.svg', color: '#ff4d4d' },
      { icon: '/img/hero/animal-4.svg', color: '#ffa500' },
      { icon: '/img/hero/animal-3.svg', color: '#68d391' },
      { icon: '/img/hero/animal-2.svg', color: '#4d94ff' }
    ]
  },
  { 
    count: 5, 
    survivalAfter: 190,
    previewPlayers: [
      { icon: '/img/hero/animal-1.svg', color: '#ff4d4d' },
      { icon: '/img/hero/animal-4.svg', color: '#ffa500' },
      { icon: '/img/hero/animal-3.svg', color: '#68d391' },
      { icon: '/img/hero/animal-2.svg', color: '#4d94ff' },
      { icon: '/img/hero/animal-5.svg', color: '#b06ee6' }
    ]
  }
];

const startGame = (count) => {
  // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö
  router.push(`/${count}/play`);
};
</script>

<style scoped>
.lobby-container {
  min-height: 100vh;
  background-color: #121212;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 10px;
  color: white;
  overflow: hidden; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ–±—â—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
}

.lobby-title {
  margin-bottom: 30px;
  font-size: 1.8rem;
  letter-spacing: 1px;
}

.modes-wrapper {
  display: flex;
  flex-wrap: nowrap; /* –í—Å–µ–≥–¥–∞ –≤ –æ–¥–Ω—É –ª–∏–Ω–∏—é */
  gap: 15px;
  max-width: 95vw;
  justify-content: center;
}

.mode-card {
  background: #1e1e1e;
  border-radius: 12px;
  padding: 20px 15px;
  width: 250px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞, —á—Ç–æ–±—ã –≤–ª–µ–∑–ª–æ 4-5 —à—Ç—É–∫ */
  cursor: pointer;
  transition: transform 0.2s, background 0.2s;
  display: flex;
  flex-direction: column;
  align-items: center;
  border: 1px solid #333;
}

.mode-card:hover {
  transform: translateY(-5px);
  background: #252525;
  border-color: #444;
}

.player-previews {
  display: flex;
  flex-wrap: wrap; /* –ï—Å–ª–∏ –∏–∫–æ–Ω–æ–∫ –º–Ω–æ–≥–æ, –æ–Ω–∏ –ø–µ—Ä–µ–Ω–µ—Å—É—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
  justify-content: center;
  gap: 8px;
  margin-bottom: 15px;
  min-height: 80px; /* –ß—Ç–æ–±—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –±—ã–ª–∏ –æ–¥–Ω–æ–π –≤—ã—Å–æ—Ç—ã */
  align-items: center;
}

.avatar-circle {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 2px solid;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #2a2a2a;
  font-size: 18px;
}

.mode-info {
  text-align: center;
  margin-bottom: 15px;
}

.mode-name {
  font-size: 1.1rem;
  margin: 0;
}

.mode-desc {
  color: #777;
  font-size: 0.75rem;
  margin: 5px 0 0;
}

.select-button {
  background: #4d94ff;
  border: none;
  color: white;
  padding: 8px 20px;
  border-radius: 20px;
  font-weight: bold;
  font-size: 0.7rem;
  cursor: pointer;
  width: 100%;
}

.avatar-icon{
  display: flex;
  justify-content: center;
  align-items: center;
}
.avatar-icon-img{
  width: 30px;
  height: auto;
}

.survival-badge {
  margin-top: 12px;
  background: rgba(231, 76, 60, 0.1); /* –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫—Ä–∞—Å–Ω—ã–π */
  border: 1px solid rgba(231, 76, 60, 0.3);
  border-radius: 6px;
  padding: 4px 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 0.7rem;
  color: #e74c3c;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.skull-icon {
  font-size: 0.9rem;
  filter: drop-shadow(0 0 2px #e74c3c);
}

/* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É */
.mode-card:hover .survival-badge {
  background: rgba(231, 76, 60, 0.2);
  border-color: #e74c3c;
}
/* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-width: 900px) {
  .modes-wrapper {
    flex-wrap: wrap;
    overflow-y: auto;
  }
}
</style>